{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sajai\\\\OneDrive\\\\Desktop\\\\Online-Quiz-Platform\\\\frontend\\\\src\\\\AddQuestion.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BackButton from \"./components/BackButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddQuestion() {\n  _s();\n  const {\n    quizId\n  } = useParams();\n  const [text, setText] = useState(\"\");\n  const [options, setOptions] = useState([\"\", \"\", \"\", \"\"]);\n  const [correct, setCorrect] = useState(0);\n  const [msg, setMsg] = useState(\"\");\n  const [quiz, setQuiz] = useState(null);\n  useEffect(() => {\n    fetch(`http://localhost:5000/quiz/${quizId}`).then(res => res.json()).then(data => setQuiz(data)).catch(() => setMsg(\"Failed to load quiz.\"));\n  }, [quizId]);\n  async function submitQuestion() {\n    setMsg(\"\");\n    if (!text.trim()) return setMsg(\"Question text cannot be empty.\");\n    if (options.some(opt => !opt.trim())) return setMsg(\"All options must be filled in.\");\n    const payload = {\n      text,\n      options,\n      correct\n    };\n    const res = await fetch(`http://localhost:5000/quiz/${quizId}/add-question`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    });\n    const data = await res.json().catch(() => ({}));\n    if (!res.ok) return setMsg(data.message || \"Failed to add question.\");\n    setMsg(\"Question added!\");\n    setText(\"\");\n    setOptions([\"\", \"\", \"\", \"\"]);\n    setCorrect(0);\n    setQuiz(data.quiz);\n  }\n  async function deleteQuestion(index) {\n    const ok = window.confirm(\"Delete this question?\");\n    if (!ok) return;\n    const res = await fetch(`http://localhost:5000/quiz/${quizId}/question/${index}`, {\n      method: \"DELETE\"\n    });\n    const data = await res.json().catch(() => ({}));\n    if (!res.ok) return setMsg(data.message || \"Failed to delete question.\");\n    setQuiz(data.quiz);\n  }\n  if (!quiz) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: \"Loading quiz...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(BackButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Add Question to: \", quiz.title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Question text\",\n      value: text,\n      onChange: e => setText(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Options\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), options.map((opt, i) => /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: `Option ${i + 1}`,\n      value: opt,\n      onChange: e => {\n        const updated = [...options];\n        updated[i] = e.target.value;\n        setOptions(updated);\n      }\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Correct Answer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: correct,\n      onChange: e => setCorrect(Number(e.target.value)),\n      children: options.map((_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: i,\n        children: [\"Option \", i + 1]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submitQuestion,\n      children: \"Add Question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: 10\n      },\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Existing Questions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), quiz.questions.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No questions yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 39\n    }, this), quiz.questions.map((q, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        gap: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: q.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-btn\",\n        onClick: () => deleteQuestion(index),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(AddQuestion, \"FWKh1HDVA3P5tOZTaMoEo3CZPqY=\", false, function () {\n  return [useParams];\n});\n_c = AddQuestion;\nexport default AddQuestion;\nvar _c;\n$RefreshReg$(_c, \"AddQuestion\");","map":{"version":3,"names":["useState","useEffect","useParams","BackButton","jsxDEV","_jsxDEV","AddQuestion","_s","quizId","text","setText","options","setOptions","correct","setCorrect","msg","setMsg","quiz","setQuiz","fetch","then","res","json","data","catch","submitQuestion","trim","some","opt","payload","method","headers","body","JSON","stringify","ok","message","deleteQuestion","index","window","confirm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","type","placeholder","value","onChange","e","target","map","i","updated","Number","_","onClick","style","marginTop","questions","length","q","display","justifyContent","gap","_c","$RefreshReg$"],"sources":["C:/Users/sajai/OneDrive/Desktop/Online-Quiz-Platform/frontend/src/AddQuestion.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BackButton from \"./components/BackButton\";\n\nfunction AddQuestion() {\n  const { quizId } = useParams();\n\n  const [text, setText] = useState(\"\");\n  const [options, setOptions] = useState([\"\", \"\", \"\", \"\"]);\n  const [correct, setCorrect] = useState(0);\n  const [msg, setMsg] = useState(\"\");\n  const [quiz, setQuiz] = useState(null);\n\n  useEffect(() => {\n    fetch(`http://localhost:5000/quiz/${quizId}`)\n      .then((res) => res.json())\n      .then((data) => setQuiz(data))\n      .catch(() => setMsg(\"Failed to load quiz.\"));\n  }, [quizId]);\n\n  async function submitQuestion() {\n    setMsg(\"\");\n\n    if (!text.trim()) return setMsg(\"Question text cannot be empty.\");\n    if (options.some((opt) => !opt.trim())) return setMsg(\"All options must be filled in.\");\n\n    const payload = { text, options, correct };\n\n    const res = await fetch(`http://localhost:5000/quiz/${quizId}/add-question`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n\n    const data = await res.json().catch(() => ({}));\n    if (!res.ok) return setMsg(data.message || \"Failed to add question.\");\n\n    setMsg(\"Question added!\");\n    setText(\"\");\n    setOptions([\"\", \"\", \"\", \"\"]);\n    setCorrect(0);\n    setQuiz(data.quiz);\n  }\n\n  async function deleteQuestion(index) {\n    const ok = window.confirm(\"Delete this question?\");\n    if (!ok) return;\n\n    const res = await fetch(`http://localhost:5000/quiz/${quizId}/question/${index}`, {\n      method: \"DELETE\",\n    });\n\n    const data = await res.json().catch(() => ({}));\n    if (!res.ok) return setMsg(data.message || \"Failed to delete question.\");\n\n    setQuiz(data.quiz);\n  }\n\n  if (!quiz) return <div className=\"container\">Loading quiz...</div>;\n\n  return (\n    <div className=\"container\">\n      <BackButton />\n\n      <h2>Add Question to: {quiz.title}</h2>\n\n      <input\n        type=\"text\"\n        placeholder=\"Question text\"\n        value={text}\n        onChange={(e) => setText(e.target.value)}\n      />\n\n      <h3>Options</h3>\n      {options.map((opt, i) => (\n        <input\n          key={i}\n          type=\"text\"\n          placeholder={`Option ${i + 1}`}\n          value={opt}\n          onChange={(e) => {\n            const updated = [...options];\n            updated[i] = e.target.value;\n            setOptions(updated);\n          }}\n        />\n      ))}\n\n      <h3>Correct Answer</h3>\n      <select value={correct} onChange={(e) => setCorrect(Number(e.target.value))}>\n        {options.map((_, i) => (\n          <option key={i} value={i}>\n            Option {i + 1}\n          </option>\n        ))}\n      </select>\n\n      <button onClick={submitQuestion}>Add Question</button>\n\n      {msg && <p style={{ marginTop: 10 }}>{msg}</p>}\n\n      <hr />\n\n      <h3>Existing Questions</h3>\n      {quiz.questions.length === 0 && <p>No questions yet.</p>}\n\n      {quiz.questions.map((q, index) => (\n        <div key={index} style={{ display: \"flex\", justifyContent: \"space-between\", gap: 10 }}>\n          <strong>{q.text}</strong>\n          <button className=\"delete-btn\" onClick={() => deleteQuestion(index)}>\n            Delete\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default AddQuestion;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}